'use strict';var Base=function(){};
Base.extend=function(a,d){var e=Base.prototype.extend;Base._prototyping=!0;var b=new this;e.call(b,a);b.base=function(){};delete Base._prototyping;var g=b.constructor,c=b.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==c)this._constructing=!0,g.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||e).call(arguments[0],b)};c.ancestor=this;c.extend=this.extend;c.forEach=this.forEach;c.implement=this.implement;c.prototype=
b;c.toString=this.toString;c.valueOf=function(a){return"object"==a?c:g.valueOf()};e.call(c,d);"function"==typeof c.init&&c.init();return c};
Base.prototype={extend:function(a,d){if(1<arguments.length){var e=this[a];if(e&&"function"==typeof d&&(!e.valueOf||e.valueOf()!=d.valueOf())&&/\bbase\b/.test(d)){var b=d.valueOf();d=function(){var a=this.base||Base.prototype.base;this.base=e;var f=b.apply(this,arguments);this.base=a;return f};d.valueOf=function(a){return"object"==a?d:b};d.toString=Base.toString}this[a]=d}else if(a){var g=Base.prototype.extend;Base._prototyping||"function"==typeof this||(g=this.extend||g);for(var c={toSource:null},
h=["constructor","toString","valueOf"],k=Base._prototyping?0:1;f=h[k++];)a[f]!=c[f]&&g.call(this,f,a[f]);for(var f in a)c[f]||g.call(this,f,a[f])}return this}};
Base=Base.extend({constructor:function(a){this.extend(a)}},{ancestor:Object,version:"1.1",forEach:function(a,d,e){for(var b in a)void 0===this.prototype[b]&&d.call(e,a[b],b,a)},implement:function(){for(var a=0;a<arguments.length;a++)if("function"==typeof arguments[a])arguments[a](this.prototype);else this.prototype.extend(arguments[a]);return this},toString:function(){return String(this.valueOf())}});
(function(a,d){var e=function(b){var e=function(c){var b=function(a,f){var b;if("NodeList"==a.constructor.name)for(var c=0;c<a.length;c++){if(b=f(a[c],c),b!==d)return b}else b=f(a);return b||a};c.on=function(a,f){return b(this,function(b){b.addEventListener(a,f)})};c.off=function(a,f){return b(this,function(b){b.removeEventListener(a,f)})};c.fadeIn=function(c){c||(c=400);return b(this,function(b){b.style.opacity=0;var e=+new Date,d=function(){b.style.opacity=+b.style.opacity+(new Date-e)/c;e=+new Date;
1>+b.style.opacity&&(a.requestAnimationFrame?a.requestAnimationFrame(d):setTimeout(d,16))};d()})};c.hide=function(){return b(this,function(a){a.style.display="none"})};c.show=function(){return b(this,function(a){a.style.display=""})};c.addClass=function(a){return b(this,function(b){b.classList?b.classList.add(a):b.className+=" "+a})};c.removeClass=function(a){return b(this,function(b){b.classList?b.classList.remove(a):b.className=b.className.replace(new RegExp("(^|\\b)"+a.split(" ").join("|")+"(\\b|$)",
"gi")," ")})};c.each=function(a){Array.prototype.forEach.call(this,function(b,c){a(c,b)})};c.trigger=function(c,f){return b(this,function(b){var d;f?a.CustomEvent?d=new a.CustomEvent(c,{detail:f}):(d=a.document.createEvent("CustomEvent"),d.initCustomEvent(c,!0,!0,f)):(d=a.document.createEvent("HTMLEvents"),d.initEvent(c,!0,!1));b.dispatchEvent(d)})};c.find=function(a){return e(this.querySelectorAll(a))};c.parent=function(){return b(this,function(a){return a.parentNode})};c.css=function(c){return b(this,
function(b){return a.getComputedStyle(b)[c]})};c.attr=function(a){return b(this,function(b){return b.getAttribute(a)})};c.html=function(a){return b(this,function(b){if(a)b.innerHTML=a;else return b.innerHTML})};c.text=function(a){return b(this,function(b){if(a)b.textContent=a;else return b.textContent})};c.hasClass=function(a){return b(this,function(b){return b.classList?b.classList.contains(a):(new RegExp("(^| )"+a+"( |$)","gi")).test(b.className)})};return c};if(b)if("function"==typeof b)a.document.addEventListener("DOMContentLoaded",
b);else{if("object"==typeof b)return e(b);b=a.document.querySelectorAll(b);return e(b)}};e.ajax=function(){};e.VERSION="0.0.0";a.dollar=e;a.$||(a.$=e)})(this);
var BaseView=Base.extend({id:null,node:null,childViews:[],constructor:function(a){this.id=a||""},setNode:function(a){this.node=a;this.node.style.position="absolute"},setPosition:function(a,d,e,b){this.node.style.left=a+"px";this.node.style.top=d+"px";this.node.style.width=e+"px";this.node.style.height=b+"px"},setBackgroundColor:function(a){this.node.style.backgroundColor=a},addChildView:function(a){a&&a.id&&!this.childViews[a.id]?(this.childViews[a.id]=a,this.node.appendChild(a.node)):console.log("View ID ("+
a.id+") is not defined or already exist in parent View")}}),Frame=BaseView.extend({constructor:function(a){this.base(a);this.node=document.createElement("div");this.node.id="Frame_"+this.id;this.node.style.position="absolute"}}),$frameEnum={layout:{vp1:"vp1",vp2:"vp2",vp3:"vp3",hp1:"hp1",hp2:"hp2",hp3:"hp3",hp4:"hp4"},item:{image:"image",video:"video"},effect:{slideLeft:"slideLeft",slideRight:"slideRight"}},FrameManager=Base.extend({templateId:0,masterLayout:"",frames:[],constructor:function(){for(var a=
$backendService.getFrameData(),d=0;d<a.frames.length;d++){var e=new Frame(d+1),b=this.getFramePosition(a.masterLayout,d);e.setPosition(b.left,b.top,b.width,b.height);e.setBackgroundColor("#ccc");this.frames.push(e)}this.show()},show:function(){for(var a=0;a<this.frames.length;a++)bodyFrame.addChildView(this.frames[a])},getFramePosition:function(a,d){switch(a){case $frameEnum.layout.vp2:return{left:FRAME_GAP,top:FRAME_GAP+d*((APP_HEIGHT-3*FRAME_GAP)/2+FRAME_GAP),width:APP_WIDTH-2*FRAME_GAP,height:(APP_HEIGHT-
3*FRAME_GAP)/2};default:return null}}}),BackendService=Base.extend({BACKEND_URL:"",getFrameData:function(){return{templateId:1,masterLayout:"vp2",frames:[{frameId:1,items:[{itemId:1,type:"image",url:"http://abc.com/def1.jpg"},{itemId:2,type:"image",url:"http://abc.com/def2.jpg"},{itemId:3,type:"image",url:"http://abc.com/def3.jpg"}],effects:["slideLeft","slideRight"],childTemplateId:3},{frameId:2,items:[{itemId:4,type:"image",url:"http://abc.com/def4.jpg"},{itemId:5,type:"image",url:"http://abc.com/def5.jpg"},
{itemId:6,type:"image",url:"http://abc.com/def6.jpg"}],effects:["slideLeft","slideRight"],childTemplateId:3}]}}}),APP_WIDTH=1E3,APP_HEIGHT=400,FRAME_GAP=10,bodyFrame=new Frame("bodyFrame");bodyFrame.setPosition(0,0,APP_WIDTH,APP_HEIGHT);bodyFrame.setBackgroundColor("#eee");
var initUIJS=function(){document.body.style.position="absolute";document.body.style.width=APP_WIDTH;document.body.style.height=APP_HEIGHT;document.body.style.top="0px";document.body.style.left="0px";document.body.style.padding="0px";document.body.style.margin="0px";document.body.appendChild(bodyFrame.node);main()};document.addEventListener("DOMContentLoaded",function(){initUIJS()});var main=function(){},$backendService=new BackendService,$frameManager=new FrameManager;
